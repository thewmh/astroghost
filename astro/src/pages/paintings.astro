---
import Layout from '../layouts/Layout.astro';
import { ghostClient } from '../lib/ghost';
const posts = await ghostClient.posts
    .browse({
        limit: 'all',
        filter: 'tag:painting'
    })
    .catch((err) => {
        console.error(err);
    });
    if (!posts) return;
    posts.sort((a:PostOrPage, b:PostOrPage) => new Date(a.created_at as string).getTime() - new Date(b.created_at as string).getTime())
import { 
	Card, 
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle, } from '../components/ui/card';
import Image from 'astro/components/Image.astro';
import type { PostOrPage } from '@tryghost/content-api';
---
<Layout title="Purported Art - Paintings">
  <body class="flex justify-center gap-4">
    <>
      {posts && (
        posts.map((post: PostOrPage) => {
          if (!post.feature_image) return;
            return (
              <Card className='w-1/3'>
                {post.feature_image && (
                  <CardHeader>
                    <Image class="aspect-square" width="1000" height="1000" src={post.feature_image as string} alt={post.title as string}/>
                  </CardHeader>
                )}
                <CardContent>
                  <a class="hover:text-fuchsia-800 hover:underline text-xl font-bold inline-block mb-4" href={`/paintings/${post.slug}`}>
                    <CardTitle> {post.title} </CardTitle>
                  </a>
                  <CardDescription>{post.excerpt}</CardDescription>
                </CardContent>
              </Card>
            )
          }
        )
      )}
    </>
  </body>
</Layout>